<!doctype html>
<html lang="en">
 <head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Azfar's 10th Birthday Party</title>
  <script src="/_sdk/element_sdk.js"></script>
  <script src="/_sdk/data_sdk.js"></script>
  <style>
    body {
      box-sizing: border-box;
    }
    
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    html, body {
      height: 100%;
      overflow-x: hidden;
    }

    body {
      font-family: 'Comic Sans MS', 'Chalkboard SE', 'Comic Neue', cursive, sans-serif;
      background: linear-gradient(135deg, #87CEEB 0%, #FFE4E1 100%);
      color: #333;
      position: relative;
    }

    .sparkle {
      position: fixed;
      width: 8px;
      height: 8px;
      background: white;
      border-radius: 50%;
      pointer-events: none;
      animation: sparkleFloat 4s infinite ease-in-out;
      opacity: 0;
      z-index: 1;
    }

    @keyframes sparkleFloat {
      0%, 100% { opacity: 0; transform: translateY(0) scale(0); }
      50% { opacity: 1; transform: translateY(-100px) scale(1); }
    }

    .container {
      max-width: 900px;
      margin: 0 auto;
      padding: 20px;
      position: relative;
      z-index: 2;
    }

    .hero-section {
      text-align: center;
      padding: 60px 20px;
      background: white;
      border-radius: 30px;
      box-shadow: 0 10px 40px rgba(0,0,0,0.1);
      margin-bottom: 30px;
      position: relative;
      overflow: hidden;
    }

    .balloon {
      position: fixed;
      font-size: 48px;
      animation: floatUp 6s infinite ease-in-out;
      opacity: 0;
      z-index: 1000;
    }

    @keyframes floatUp {
      0% { transform: translateY(100px) rotate(0deg); opacity: 0; }
      5% { opacity: 1; }
      95% { opacity: 1; }
      100% { transform: translateY(-800px) rotate(20deg); opacity: 0; }
    }

    .cake-container {
      font-size: 80px;
      margin: 20px 0;
      position: relative;
      display: inline-block;
    }



    h1 {
      font-size: 48px;
      color: #FF69B4;
      margin-bottom: 20px;
      text-shadow: 3px 3px 0 #FFD700;
    }

    .subtext {
      font-size: 24px;
      color: #666;
      margin-bottom: 30px;
    }

    .btn {
      background: linear-gradient(135deg, #FF69B4, #FFD700);
      color: white;
      border: none;
      padding: 18px 40px;
      font-size: 24px;
      border-radius: 50px;
      cursor: pointer;
      box-shadow: 0 6px 20px rgba(255,105,180,0.4);
      transition: transform 0.2s, box-shadow 0.2s;
      font-family: inherit;
      font-weight: bold;
    }

    .btn:hover {
      transform: translateY(-3px);
      box-shadow: 0 8px 25px rgba(255,105,180,0.6);
    }

    .btn:active {
      transform: translateY(-1px);
    }

    .card {
      background: white;
      border-radius: 25px;
      padding: 40px;
      margin-bottom: 30px;
      box-shadow: 0 8px 30px rgba(0,0,0,0.1);
    }

    .card h2 {
      font-size: 36px;
      color: #87CEEB;
      margin-bottom: 25px;
      text-align: center;
    }

    .detail-item {
      font-size: 20px;
      margin: 15px 0;
      padding: 15px;
      background: #FFF9E6;
      border-radius: 15px;
      border-left: 5px solid #FFD700;
    }

    .detail-label {
      font-weight: bold;
      color: #FF69B4;
      display: inline-block;
      min-width: 80px;
    }

    .button-group {
      display: flex;
      gap: 15px;
      margin-top: 25px;
      flex-wrap: wrap;
      justify-content: center;
    }

    .btn-secondary {
      background: linear-gradient(135deg, #87CEEB, #98D8E8);
      color: white;
      border: none;
      padding: 15px 30px;
      font-size: 18px;
      border-radius: 50px;
      cursor: pointer;
      box-shadow: 0 4px 15px rgba(135,206,235,0.4);
      transition: transform 0.2s;
      font-family: inherit;
      font-weight: bold;
    }

    .btn-secondary:hover {
      transform: translateY(-2px);
      box-shadow: 0 6px 20px rgba(135,206,235,0.6);
    }

    .map-container {
      width: 100%;
      height: 300px;
      background: linear-gradient(135deg, #E8F5E9, #C8E6C9);
      border-radius: 20px;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 48px;
      margin-bottom: 20px;
    }

    .qr-placeholder {
      width: 200px;
      height: 200px;
      background: white;
      border: 4px dashed #FFD700;
      border-radius: 20px;
      display: flex;
      align-items: center;
      justify-content: center;
      margin: 20px auto;
      font-size: 18px;
      color: #666;
      text-align: center;
      padding: 20px;
    }

    .fun-fact-input {
      width: 100%;
      padding: 20px;
      font-size: 18px;
      border: 3px solid #FFD700;
      border-radius: 20px;
      margin: 20px 0;
      font-family: inherit;
      background: #FFFEF0;
    }

    .fun-fact-response {
      background: linear-gradient(135deg, #FFE4E1, #FFB6C1);
      padding: 25px;
      border-radius: 20px;
      text-align: center;
      font-size: 24px;
      color: #FF1493;
      font-weight: bold;
      margin-top: 20px;
      display: none;
    }

    .game-container {
      text-align: center;
      min-height: 400px;
      position: relative;
    }

    .game-balloon {
      position: absolute;
      font-size: 60px;
      cursor: pointer;
      transition: transform 0.1s;
      animation: bobble 2s infinite ease-in-out;
    }

    .game-balloon:hover {
      transform: scale(1.2);
    }

    @keyframes bobble {
      0%, 100% { transform: translateY(0); }
      50% { transform: translateY(-10px); }
    }

    .game-score {
      font-size: 32px;
      color: #FF69B4;
      font-weight: bold;
      margin-bottom: 20px;
    }

    .confetti {
      position: fixed;
      width: 10px;
      height: 10px;
      pointer-events: none;
      z-index: 9999;
    }

    .photo-placeholder {
      width: 250px;
      height: 250px;
      background: linear-gradient(135deg, #FFE4E1, #FFD700);
      border-radius: 50%;
      margin: 30px auto;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 100px;
      box-shadow: 0 10px 30px rgba(0,0,0,0.2);
    }



    .hidden {
      display: none;
    }

    @media (max-width: 768px) {
      h1 {
        font-size: 32px;
      }

      .subtext {
        font-size: 18px;
      }

      .btn {
        font-size: 20px;
        padding: 15px 30px;
      }

      .card h2 {
        font-size: 28px;
      }

      .detail-item {
        font-size: 16px;
      }

      .button-group {
        flex-direction: column;
      }

      .btn-secondary {
        width: 100%;
      }
    }
  </style>
  <style>@view-transition { navigation: auto; }</style>
  <script src="https://cdn.tailwindcss.com" type="text/javascript"></script>
 </head>
 <body>
  <div class="container">
   <section class="hero-section" id="heroSection">
    <div class="cake-container" id="cakeContainer">
     üéÇ
    </div>
    <h1 id="headline">üéâ You're Invited to Azfar's 10th Birthday Party!</h1>
    <p class="subtext" id="subtext">Join us for a fun-filled evening with cake, games, and surprises!</p><button class="btn" id="startBtn">üéà Tap to Start the Celebration</button>
   </section>
   <section class="card hidden" id="detailsCard">
    <h2>üéä Party Details</h2>
    <div class="detail-item"><span class="detail-label">üìÖ Date:</span> <span id="partyDate">Thursday, November 7</span>
    </div>
    <div class="detail-item"><span class="detail-label">‚è∞ Time:</span> <span id="partyTime">7:00 PM</span>
    </div>
    <div class="detail-item"><span class="detail-label">üìç Address:</span> <span id="partyAddress">Flat 1205, 12th Floor, Tower 3, Royal Icon Towers, Gulshan-e-Iqbal, Block 13D/2</span>
    </div>
    <div class="button-group"><button class="btn-secondary" id="directionsBtn">üìç Get Directions</button>
    </div>
   </section>
   <section class="card hidden" id="funFactCard">
    <h2>üí¨ Fun Fact Time!</h2>
    <p style="font-size: 20px; text-align: center; margin-bottom: 20px;" id="funFactPrompt">Before you go, share one fun fact about Azfar!</p><input type="text" class="fun-fact-input" id="guestNameInput" placeholder="Your name..."> <input type="text" class="fun-fact-input" id="funFactInput" placeholder="Type your fun fact here...">
    <div style="text-align: center; margin-top: 20px;"><button class="btn-secondary" id="submitFactBtn">Submit Fun Fact</button>
    </div>
    <div class="fun-fact-response" id="funFactResponse">
     Nice! Azfar will love that! üéÇ Can't wait to party with you!
    </div>
   </section>
   <section class="card hidden" id="gameCard">
    <h2>üéÆ Pop the Balloons!</h2>
    <div class="game-score" id="gameScore">
     Balloons Popped: 0/10
    </div>
    <div class="game-container" id="gameContainer"></div>
   </section>
   <section class="card hidden" id="thankYouCard">
    <h2>üéä Thank You!</h2>
    <div class="photo-placeholder">
     üë¶
    </div>
    <p style="font-size: 24px; text-align: center; margin-bottom: 30px;" id="thankYouMessage">Thanks for visiting Azfar's Birthday Page! Can't wait to celebrate together!</p>
    <div style="text-align: center;"><button class="btn" id="finalBtn">üéä See You Soon!</button>
    </div>
   </section>
  </div>
  <script>
    const defaultConfig = {
      party_headline: "üéâ You're Invited to Azfar's 10th Birthday Party!",
      party_subtext: "Join us for a fun-filled evening with cake, games, and surprises!",
      party_date: "Thursday, November 7",
      party_time: "7:00 PM",
      party_address: "Flat 1205, 12th Floor, Tower 3, Royal Icon Towers, Gulshan-e-Iqbal, Block 13D/2",
      fun_fact_prompt: "Before you go, share one fun fact about Azfar!",
      thank_you_message: "Thanks for visiting Azfar's Birthday Page! Can't wait to celebrate together!",
      background_color: "#87CEEB",
      card_color: "#FFFFFF",
      primary_color: "#FF69B4",
      accent_color: "#FFD700",
      text_color: "#333333"
    };

    async function onConfigChange(config) {
      document.getElementById('headline').textContent = config.party_headline || defaultConfig.party_headline;
      document.getElementById('subtext').textContent = config.party_subtext || defaultConfig.party_subtext;
      document.getElementById('partyDate').textContent = config.party_date || defaultConfig.party_date;
      document.getElementById('partyTime').textContent = config.party_time || defaultConfig.party_time;
      document.getElementById('partyAddress').textContent = config.party_address || defaultConfig.party_address;
      document.getElementById('funFactPrompt').textContent = config.fun_fact_prompt || defaultConfig.fun_fact_prompt;
      document.getElementById('thankYouMessage').textContent = config.thank_you_message || defaultConfig.thank_you_message;

      const backgroundColor = config.background_color || defaultConfig.background_color;
      const cardColor = config.card_color || defaultConfig.card_color;
      const primaryColor = config.primary_color || defaultConfig.primary_color;
      const accentColor = config.accent_color || defaultConfig.accent_color;
      const textColor = config.text_color || defaultConfig.text_color;

      document.body.style.background = `linear-gradient(135deg, ${backgroundColor} 0%, #FFE4E1 100%)`;
      
      const cards = document.querySelectorAll('.card, .hero-section');
      cards.forEach(card => {
        card.style.background = cardColor;
      });

      const h1Elements = document.querySelectorAll('h1');
      h1Elements.forEach(h1 => {
        h1.style.color = primaryColor;
        h1.style.textShadow = `3px 3px 0 ${accentColor}`;
      });

      const h2Elements = document.querySelectorAll('.card h2');
      h2Elements.forEach(h2 => {
        h2.style.color = backgroundColor;
      });

      document.body.style.color = textColor;

      const buttons = document.querySelectorAll('.btn');
      buttons.forEach(btn => {
        btn.style.background = `linear-gradient(135deg, ${primaryColor}, ${accentColor})`;
      });

      const secondaryButtons = document.querySelectorAll('.btn-secondary');
      secondaryButtons.forEach(btn => {
        btn.style.background = `linear-gradient(135deg, ${backgroundColor}, #98D8E8)`;
      });


    }

    if (window.elementSdk) {
      window.elementSdk.init({
        defaultConfig,
        onConfigChange,
        mapToCapabilities: (config) => ({
          recolorables: [
            {
              get: () => config.background_color || defaultConfig.background_color,
              set: (value) => {
                config.background_color = value;
                window.elementSdk.setConfig({ background_color: value });
              }
            },
            {
              get: () => config.card_color || defaultConfig.card_color,
              set: (value) => {
                config.card_color = value;
                window.elementSdk.setConfig({ card_color: value });
              }
            },
            {
              get: () => config.primary_color || defaultConfig.primary_color,
              set: (value) => {
                config.primary_color = value;
                window.elementSdk.setConfig({ primary_color: value });
              }
            },
            {
              get: () => config.accent_color || defaultConfig.accent_color,
              set: (value) => {
                config.accent_color = value;
                window.elementSdk.setConfig({ accent_color: value });
              }
            },
            {
              get: () => config.text_color || defaultConfig.text_color,
              set: (value) => {
                config.text_color = value;
                window.elementSdk.setConfig({ text_color: value });
              }
            }
          ],
          borderables: [],
          fontEditable: undefined,
          fontSizeable: undefined
        }),
        mapToEditPanelValues: (config) => new Map([
          ["party_headline", config.party_headline || defaultConfig.party_headline],
          ["party_subtext", config.party_subtext || defaultConfig.party_subtext],
          ["party_date", config.party_date || defaultConfig.party_date],
          ["party_time", config.party_time || defaultConfig.party_time],
          ["party_address", config.party_address || defaultConfig.party_address],
          ["fun_fact_prompt", config.fun_fact_prompt || defaultConfig.fun_fact_prompt],
          ["thank_you_message", config.thank_you_message || defaultConfig.thank_you_message]
        ])
      });
    }

    // Create sparkles
    for (let i = 0; i < 30; i++) {
      const sparkle = document.createElement('div');
      sparkle.className = 'sparkle';
      sparkle.style.left = Math.random() * 100 + '%';
      sparkle.style.top = Math.random() * 100 + '%';
      sparkle.style.animationDelay = Math.random() * 4 + 's';
      document.body.appendChild(sparkle);
    }

    // Balloon animation
    function createBalloon() {
      const balloon = document.createElement('div');
      balloon.className = 'balloon';
      balloon.textContent = ['üéà', 'üéà', 'üéà'][Math.floor(Math.random() * 3)];
      balloon.style.left = Math.random() * 80 + 10 + '%';
      balloon.style.animationDelay = Math.random() * 2 + 's';
      balloon.style.animationDuration = '10s';
      document.body.appendChild(balloon);
      
      setTimeout(() => balloon.remove(), 12000);
    }

    // Candle lighting animation removed

    // Start button
    document.getElementById('startBtn').addEventListener('click', function() {
      for (let i = 0; i < 10; i++) {
        setTimeout(createBalloon, i * 300);
      }
      
      setTimeout(() => {
        document.getElementById('detailsCard').classList.remove('hidden');
        document.getElementById('funFactCard').classList.remove('hidden');
        document.getElementById('gameCard').classList.remove('hidden');
        document.getElementById('thankYouCard').classList.remove('hidden');
        
        document.getElementById('detailsCard').scrollIntoView({ behavior: 'smooth' });
      }, 2000);
    });



    // Directions button
    document.getElementById('directionsBtn').addEventListener('click', function() {
      window.open('https://bit.ly/492OvlB', '_blank', 'noopener,noreferrer');
    });

    // Data SDK setup
    let currentFunFacts = [];
    
    const dataHandler = {
      onDataChanged(data) {
        currentFunFacts = data;
      }
    };

    // Initialize Data SDK
    async function initializeDataSDK() {
      if (window.dataSdk) {
        const initResult = await window.dataSdk.init(dataHandler);
        if (!initResult.isOk) {
          console.error("Failed to initialize data SDK");
        }
      }
    }

    // Fun fact submission
    document.getElementById('submitFactBtn').addEventListener('click', async function() {
      const nameInput = document.getElementById('guestNameInput');
      const factInput = document.getElementById('funFactInput');
      const submitBtn = this;
      
      if (nameInput.value.trim() && factInput.value.trim()) {
        // Show loading state
        submitBtn.disabled = true;
        submitBtn.textContent = 'Saving...';
        
        // Check if we're at the limit
        if (currentFunFacts.length >= 999) {
          submitBtn.disabled = false;
          submitBtn.textContent = 'Submit Fun Fact';
          
          // Show inline error message
          const errorMsg = document.createElement('div');
          errorMsg.style.cssText = 'background: #ffebee; color: #c62828; padding: 15px; border-radius: 10px; margin-top: 15px; text-align: center;';
          errorMsg.textContent = 'Maximum limit of 999 fun facts reached. Thank you for all the wonderful submissions!';
          document.getElementById('funFactCard').appendChild(errorMsg);
          
          setTimeout(() => errorMsg.remove(), 5000);
          return;
        }
        
        const funFactData = {
          guest_name: nameInput.value.trim(),
          fun_fact: factInput.value.trim(),
          submitted_at: new Date().toISOString()
        };
        
        if (window.dataSdk) {
          const result = await window.dataSdk.create(funFactData);
          
          if (result.isOk) {
            createConfetti();
            document.getElementById('funFactResponse').style.display = 'block';
            nameInput.value = '';
            factInput.value = '';
            
            setTimeout(() => {
              document.getElementById('gameCard').scrollIntoView({ behavior: 'smooth' });
            }, 2000);
          } else {
            // Show error message
            const errorMsg = document.createElement('div');
            errorMsg.style.cssText = 'background: #ffebee; color: #c62828; padding: 15px; border-radius: 10px; margin-top: 15px; text-align: center;';
            errorMsg.textContent = 'Sorry, there was an error saving your fun fact. Please try again!';
            document.getElementById('funFactCard').appendChild(errorMsg);
            
            setTimeout(() => errorMsg.remove(), 5000);
          }
        }
        
        // Reset button
        submitBtn.disabled = false;
        submitBtn.textContent = 'Submit Fun Fact';
      } else {
        // Show validation message
        const validationMsg = document.createElement('div');
        validationMsg.style.cssText = 'background: #fff3e0; color: #ef6c00; padding: 15px; border-radius: 10px; margin-top: 15px; text-align: center;';
        validationMsg.textContent = 'Please enter both your name and a fun fact!';
        document.getElementById('funFactCard').appendChild(validationMsg);
        
        setTimeout(() => validationMsg.remove(), 3000);
      }
    });

    // Balloon popping game
    let balloonsPopped = 0;
    const totalBalloons = 10;

    function createGameBalloon() {
      const container = document.getElementById('gameContainer');
      const balloon = document.createElement('div');
      balloon.className = 'game-balloon';
      balloon.textContent = ['üéà', 'üéà', 'üéà'][Math.floor(Math.random() * 3)];
      balloon.style.left = Math.random() * 80 + '%';
      balloon.style.top = Math.random() * 70 + '%';
      balloon.style.animationDelay = Math.random() * 2 + 's';
      
      balloon.addEventListener('click', function() {
        this.textContent = 'üí•';
        balloonsPopped++;
        document.getElementById('gameScore').textContent = `Balloons Popped: ${balloonsPopped}/${totalBalloons}`;
        
        setTimeout(() => this.remove(), 300);
        
        if (balloonsPopped === totalBalloons) {
          createConfetti();
          setTimeout(() => {
            document.getElementById('thankYouCard').scrollIntoView({ behavior: 'smooth' });
          }, 2000);
        }
      });
      
      container.appendChild(balloon);
    }

    for (let i = 0; i < totalBalloons; i++) {
      createGameBalloon();
    }

    // Final button
    document.getElementById('finalBtn').addEventListener('click', function() {
      createConfetti();
      setTimeout(() => {
        window.scrollTo({ top: 0, behavior: 'smooth' });
      }, 2000);
    });

    // Confetti function
    function createConfetti() {
      const colors = ['#FF69B4', '#FFD700', '#87CEEB', '#98FB98', '#DDA0DD'];
      for (let i = 0; i < 100; i++) {
        const confetti = document.createElement('div');
        confetti.className = 'confetti';
        confetti.style.left = Math.random() * 100 + '%';
        confetti.style.top = '-10px';
        confetti.style.background = colors[Math.floor(Math.random() * colors.length)];
        confetti.style.animation = `confettiFall ${Math.random() * 3 + 2}s linear`;
        document.body.appendChild(confetti);
        
        setTimeout(() => confetti.remove(), 5000);
      }
    }

    const style = document.createElement('style');
    style.textContent = `
      @keyframes confettiFall {
        to {
          transform: translateY(100vh) rotate(${Math.random() * 360}deg);
          opacity: 0;
        }
      }
    `;
    document.head.appendChild(style);



    // Initialize everything when page loads
    document.addEventListener('DOMContentLoaded', function() {
      initializeDataSDK();
    });
  </script>
 <script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'9996036331a35de2',t:'MTc2MjI3OTI1MC4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script></body>
</html>
